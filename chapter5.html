<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
     <script>
      //  objects and arrays
      let Journal = [];

      function addEntry(events, squirel){
        Journal.push({events, squirel});
      }

      // Function call to add the data
      // addEntry(["work", "touched tree", "pizza", "running", "television"], false);
      // addEntry(["work","pizza", "ice cream", "cauliflower", "lasagna", "touched tree", "brushed teeth"], false);

      events = ["work", "touched tree", "pizza", "running", "television","work", "ice cream", "cauliflower", "lasagna", "touched tree", "brushed teeth"];
      squirel = [true, false];

      for(let i = 0; i< 180; i++){

          if(i%2 == 0 && i % 3 ==0){
            addEntry(events.slice(0,4),squirel[0]);
          }
          else {
            addEntry(events.slice(4,8),squirel[1])
          }

      }

      console.log(Journal);
      console.log(Journal[0]);

// EXTRACT TABLE EVENTS
      function table(event, journal){
        let table = [0,0,0,0];

        for (var i = 0; i < journal.length; i++) {
          let entry =journal[i], index =0;
          if(entry.events.includes(event)) index+=1;
          if(entry.squirel) index+=2;
          table[index]+=1;
        }
        return table;
      }

    console.log(table("pizza",Journal));

// EXTRACT UNIQUE EVENTS
    function uevents(journal){
      let events = [];
      for (let entry of journal) {
        for (let event of entry.events) {
           if (!events.includes(event)) {
             events.push(event);
           }
          // console.log(event);
         }
      }
      return events;
    }

    console.log(uevents(Journal));

// CALCULTE THE CORRELATION
    function phi([n00, n01, n10, n11]){
        //
        return (n11 * n00 - n10 * n01) /
        Math.sqrt((n10 + n11) *
                  (n00 + n01) *
                  (n01 + n11) *
                  (n00 + n10));

      }

    for (let event of uevents(Journal)) {
      let correlation = phi(table(event, Journal));
      if (correlation > 0.1 || correlation < -0.1) { console.log(event + ":", correlation); }
      // console.log(event + ":", correlation);
    }

    for (let entry of Journal) {
      if (entry.events.includes("running") && !entry.events.includes("television")) {
      entry.events.push("running television");
    } }

      console.log(phi(table("running television", Journal)));
        // console.log(phi(table("pizza",Journal)));

   let a = [1,3,4,5];
   let b = [6,8,9,0];

   console.log(a.concat(b));
   console.log("couuconut".indexOf("u"));
   console.log("  couuconut\n".trim());
   console.log(String(6).padStart(4,"0"));
   console.log("LA")
   console.log("LA".repeat(3));


   function sum(...numbers){
     let sm = 0;

     for (let number of numbers) {
       sm+=number
     }
     return sm;
   }


   console.log(sum(1,6,7,8,8,9,9,9,9,9));
   console.log([...a,...b]);

     </script>
  </body>
</html>
